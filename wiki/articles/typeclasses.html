<!DOCTYPE html>
<!--[if IE 9]>
<html class="lt-ie10" lang="en" prefix="og: http://ogp.me/ns#"> <![endif]-->
<html class="no-js" lang="en" prefix="og: http://ogp.me/ns#">
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    


  <title>Typeclasses</title>
  <meta property="og:title" content="Typeclasses" />






<link rel="canonical" href="wiki.uqbar.org/wiki/articles/typeclasses.html" />
<meta property="og:url" content="wiki.uqbar.org/wiki/articles/typeclasses.html" />
<meta property="og:site_name" content="uqbar-wiki" />
<meta name="application-name" content="uqbar-wiki"/>

<meta property="og:updated_time" content=" 2025-07-10T21:15:21-03:00" />






  <meta property="keywords" content="" />











    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" >
    <link type="text/plain" rel="author" href="/humans.txt"/>
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Nunito&display=swap" rel="stylesheet">    

    <link rel="stylesheet" href="/assets/app-1e946f931f577cd478e6e6610915be9d.css">
    <style>
        .navbar {
            -webkit-backface-visibility: hidden;
        }
    </style>
</head>

<body>

<nav class="top-bar navbar-background" data-topbar>
    <ul class="title-area">
        <li class="name">
            <div id="pagetitle"><img alt="Uqbar" src="/img/proyecto-uqbarwiki.png" height="100px"
                    width="100px" /></div>
        </li>
    </ul>
    <ul class="left">
        <div class="mobile">
            <div class="navbar-buttons">
                <div class="navbar-icon-link">
                    <a href="/"><img alt="Home" src="/img/wiki/home-2.png" height="25px"
                            width="25px" title="Home" /></a>
                </div>
                <div class="navbar-icon-link">
                    <a href="/articles"><img alt="Artículos" src="/img/wiki/list.png"
                            height="25px" width="25px" title="Artículos" /></a>
                </div>
            </div>
        </div>
    </ul>
</nav>

<div class="column small-0 medium-2 large-2 sidebar" style="margin-top: 5px;">
        <!-- Html Elements for Search -->
<div id="search-container">
    <input type="text" id="search-input" name="search-input" placeholder="Artículo a buscar...">
    <ul id="results-container"></ul>
    <hr>
</div>

        <div class="not-mobile">
                <ul class="rows small-12 medium-10 large-10 side-nav stack button-group" title="Links" role="menu">
                        <li class="button" role="menuitem"><a href="/" class="sidebar-link"><img
                                                alt="Home" src="/img/wiki/home-2.png" height="35px"
                                                width="35px" />&nbsp;&nbsp;&nbsp;Home</a></li>
                        <li class="button" role="menuitem"><a href="/articles" class="sidebar-link"><img
                                                alt="Artículos" src="/img/wiki/list.png" height="35px"
                                                width="35px" />&nbsp;&nbsp;&nbsp;Artículos</a></li>
                </ul>

                <hr>

                <ul class="rows small-12 medium-10 large-10 side-nav stack button-group" role="menu">
                        <img src="/img/wiki/utn.png" alt="UTN" height="40px" width="40px" title="UTN" />
                        <li class="button" role="menuitem"><a
                                        href="/wiki/articles/paradigmas-de-programacion.html">Paradigmas
                                        de
                                        programación</a></li>
                        <li class="button" role="menuitem"><a href="/wiki/articles/design-temario.html">Diseño de
                                        Sistemas</a>
                        </li>
                        <li class="button" role="menuitem"><a
                                        href="/wiki/articles/tecnicas-avanzadas-de-programacion.html">Técnicas
                                        avanzadas de programación</a></li>
                        <br>
                        <img src="/img/wiki/unsam.png" alt="UNSAM" height="40px" width="40px"
                                title="UNSAM" />
                        <li class="button" role="menuitem"><a href="/wiki/articles/algo2-temario.html">Algoritmos
                                        II</a></li>
                        <li class="button" role="menuitem"><a href="/wiki/articles/algo3-temario.html">Algoritmos
                                        III</a></li>
                        <li class="button" role="menuitem"><a href="/wiki/articles/phm-temario.html">Programación
                                        con
                                        Herramientas
                                        Modernas</a></li>
                </ul>
        </div>
</div>

<div class="column small-12 medium-10 large-10">
    <div id="article_title">
    <h1>
        <i>Typeclasses</i>
    </h1>
</div>



<div id="article_content">
    <div id="toc-container">
  <table class="toc" id="toc">
    <tbody>
      <tr>
        <td>
          <div id="toctitle">
            <h2>Contents</h2>
          </div>
          <ul>
            <li class="toc_level-1 toc_section-1">
              <a href="#tocAnchor-1-1"><span class="tocnumber">1</span> <span class="toctext">Introducción</span></a>
              <ul>
                <li class="toc_level-2 toc_section-2">
                  <a href="#tocAnchor-1-1-1"><span class="tocnumber">1.1</span> <span class="toctext">Problema</span></a>
                </li>
                <li class="toc_level-2 toc_section-3">
                  <a href="#tocAnchor-1-1-2"><span class="tocnumber">1.2</span> <span class="toctext">Typeclasses al rescate</span></a>
                </li>
              </ul>
            </li>
            <li class="toc_level-1 toc_section-4">
              <a href="#tocAnchor-1-4"><span class="tocnumber">2</span> <span class="toctext">Las typeclasses de Haskell más usadas</span></a>
              <ul>
                <li class="toc_level-2 toc_section-5">
                  <a href="#tocAnchor-1-4-1"><span class="tocnumber">2.1</span> <span class="toctext">Num, Ord y Eq</span></a>
                </li>
                <li class="toc_level-2 toc_section-6">
                  <a href="#tocAnchor-1-4-2"><span class="tocnumber">2.2</span> <span class="toctext">La restricción Show</span></a>
                </li>
              </ul>
            </li>
            <li class="toc_level-1 toc_section-7">
              <a href="#tocAnchor-1-7"><span class="tocnumber">3</span> <span class="toctext">Para cerrar: El truco detrás de la magia</span></a>
            </li>
          </ul>
        </td>
      </tr>
    </tbody>
  </table>
</div><h1 id="tocAnchor-1-1">Introducción</h1>

<h2 id="tocAnchor-1-1-1">Problema</h2>

<p>Si tenemos la multiplicacion (*) definida para tanto Int como Float, luego</p>

<p>
  <code class="language-plaintext highlighter-rouge">square x = x*x</code>
</p>

<p>debería transformarse en tiempo de compilación en dos funciones distintas</p>

<p>square (para ints) square (para floats)</p>

<p>Lo cual crece exponencialmente, por ejemplo con funciones como</p>

<p>
  <code class="language-plaintext highlighter-rouge">squares (x,y,z) = (x*x, y*y, z*z)</code>
</p>

<p>que sería traducida en 8 funciones distintas, de modo que se pueda usar tanto con una tupla de tipo (Int, Float, Int) como (Float, Float, Float) o (Int, Int, Float)…</p>

<h2 id="tocAnchor-1-1-2">Typeclasses al rescate</h2>

<p>Las typeclasses son un contrato o tipo de datos abstracto que agrupa las funciones sobrecargadas: es decir, definen una lista de funciones que un tipo deber implementar para considerarse de esa clase. Ejemplo: la typeclass Num dice que todos aquellos tipos que sean Num (Int o Float por ejemplo) van a definir las funciones (+) y (*) y de que tipos son.</p>

<p>Las typeclasses tienen como primer consecuencia que funciones como squares, que tenía 8 tipos posibles, tenga uno solo:</p>

<p>
  <code class="language-plaintext highlighter-rouge">squares :: Num a, Num b, Num c =&gt; (a,b,c) -&gt; (a,b,c)</code>
</p>

<p>Donde Num es un typeclass que indica que <strong>a</strong> es un tipo concreto (como Int o Float) que cumple con ese contrato, y lo mismo para b y c.</p>

<p>Es importante que quede claro que una typeclass <strong>no es un tipo concreto</strong>, sino una restricción sobre una variable de tipo (que puede tomar como valores posibles por ejemplo Int o Float, que sí son tipos concretos).</p>

<h1 id="tocAnchor-1-4">Las typeclasses de Haskell más usadas</h1>

<h2 id="tocAnchor-1-4-1">Num, Ord y Eq</h2>

<p>Nos gustaría poder definir los siguientes tipos (a.k.a dominios e imágenes)</p>

<p>(+) :: (Si asumimos que a es <strong>numérico</strong>) entonces a -&gt; a -&gt; a</p>

<p>(&gt;) :: (Si asumimos que a es <strong>ordenable</strong>) entonces a -&gt; a -&gt; Bool</p>

<p>(==) :: (Si asumimos que a es <strong>equiparable</strong>) entonces a -&gt; a -&gt; Bool</p>

<p>En Haskell eso se escribe de la siguiente manera</p>

<pre>
  <code class="language-Haskell">(+) :: (Num a) =&gt; a - &gt; a -&gt; a
(&gt;) :: (Ord a) =&gt; a - &gt; a -&gt; Bool
(==) :: (Eq a) =&gt; a - &gt; a -&gt; Bool
</code>
</pre>

<p>Num, Ord y Eq son <strong>restricciones de tipo</strong>, en Haskell se las conoce como Typeclasses (no confundan esto con el término Clase que usamos en el paradigma de objetos!!)</p>

<p>En cada Typeclass se definen un conjunto de funciones que los tipos pertenecientes deben implementar. A continuación mostramos algunos ejemplo de funciones que se definen en Num, Ord y Eq.</p>

<pre>
  <code class="language-Haskell">Num a:
(+), (-), (*) :: a -&gt; a -&gt; a
negate, abs, signum :: a -&gt; a
etc.

Ord a:
(&lt;), (&lt;=), (&gt;=), (&gt;) :: a -&gt; a -&gt; Bool
max, min :: a -&gt; a -&gt; a
etc.

Eq a:
(==) :: a -&gt; a -&gt; Bool
(/=) :: a -&gt; a -&gt; Bool
</code>
</pre>

<p>Veamos cómo impacta esto en la definición de algunas funciones de listas por ejemplo:</p>

<pre>
  <code class="language-Haskell">elem :: (Eq a) =&gt; a -&gt; [ a ] -&gt; Bool
elem unElemento unaLista = any (unElemento==) unaLista

maximum :: (Ord a) =&gt; [a] -&gt; a
maximum lista = foldl1 max lista
</code>
</pre>

<p>Lo que nos interesa más que nada es que se note que gracias a que existen las typeclasses que explicitan cuál es el conjunto mínimo de funciones que el tipo concreto debe definir para formar parte de ella, luego podemos construir otras cosas encima usando esas funciones y vamos a poder sacarle el mismo provecho. Las funciones <code class="language-plaintext highlighter-rouge">elem</code> y <code class="language-plaintext highlighter-rouge">maximum</code> van a funcionar tanto para [Int] como para [Char] (o sea, para strings).</p>

<h3 id="qué-tipos-pertenecen-a-cada-restricción">¿Qué tipos pertenecen a cada restricción?</h3>

<p>Num: Los tipos concretos más comunes que integran esta familia son Int y Float.</p>

<p>Ord: Además de incluír a la mayoría de los tipos numéricos (como Int y Float) incluye a los caracteres, los booleanos (sí, hay un orden preestablecido para los booleanos aunque no sea común usarlo). También incluye a las listas y las tuplas siempre y cuando los tipos que las compongan sean ordenables (por ejemplo los Strings, que son listas de caracteres, son ordenables). Las funciones <strong>no son ordenables</strong>.</p>

<p>Eq: Todos los Ord y los Num son también esquiparables. Para las listas y tuplas, son equiparables si los tipos que las componen lo son. Las funciones <strong>no son equiparables</strong>.</p>

<p>¿Y los data? Algo muy común es que querramos que nuestros tipos de datos sean equiparables. Si los tipos de datos que componen a nuestros data lo son, alcanza con derivar Eq y no necesitaremos definir la igualdad. De lo contrario, para que sea Eq será necesario dar un pasito más avanzado y declarar que nuestro tipo de dato es instancia de la typeclass Eq e incluir una definición para la función (==) como se explica en el artículo sobre <a href="data--definiendo-nuestros-tipos-en-haskell.html">data</a>.</p>

<p>También es muy común querer que nuestros datos se puedan mostrar, y para eso existe otra typeclass que es</p>

<h2 id="tocAnchor-1-4-2">La restricción Show</h2>

<p>Cuando utilizamos el intérprete, los resultados de nuestras funciones son valores (valores simples, compuestos o funciones), para que se puedan mostrar por pantalla esos valores tienen que tener una representación en forma de cadena de caracteres (String).</p>

<p>La magia la realiza una función llamada show</p>

<pre>
  <code class="language-Haskell">&gt; show 3
"3"
&gt; show True
"True"
&gt; show (2,3)
"(2,3)"
</code>
</pre>

<p>Ahora bien, no todos los valores pueden ser parámetro de la función show. Por ejemplo las funciones no tienen una representación en String</p>

<pre>
  <code class="language-Haskell">&gt; show length
Error
</code>
</pre>

<p>Debido a esto, cuando quieren mostrar por pantalla una lista de funciones (ej [fst,snd]), una función parcialmente aplicada como (3+), o en general una función que retorna una función les va a tirar un error.</p>

<p>Veamos el tipo de la función show</p>

<pre>
  <code class="language-Haskell">show :: (Show a) =&gt; a -&gt; String
</code>
</pre>

<p>La única función que se define en la restricción Show es la función show</p>

<p>Qué tipos pertenecen a la restricción Show? Bool, Char, Double, Float, Int, Integer, (Show a) =&gt; [ a ] –Listas, (Show a,b) =&gt; (a,b) –Tuplas</p>

<p>Resumiendo: casi todos todos los tipos menos el tipo función</p>

<p>Al igual que se mencionó anteriormente para Eq, podemos hacer que un tipo de dato propio pueda ser mostrado con la función Show ya sea usando <strong>deriving</strong> si sólo se compone de otros datos de tipo Show o haciendo que sea instancia de Show y definiendo la función Show como querramos.</p>

<h1 id="tocAnchor-1-7">Para cerrar: El truco detrás de la magia</h1>

<p>Las typeclasses se pueden traducir/reescribir a un lenguaje sin typeclasses. Y por lo tanto, como pueden reutilizarse los mecanismos de inferencia de tipos de uno para el otro.</p>

<p>Para esta traducción, se usará la metáfora de un method dictionary. Cada tipo va a tener un diccionario con sus funciones sobrecargadas. Luego, cada función con <em>polimorfismo paramétrico</em>, recibe como parámetro el method dictionary y usa la función adecuada:</p>

<p>Ejemplo:</p>

<p>
  <code class="language-plaintext highlighter-rouge">square x = x * x</code>
</p>

<p>se transforma en algo como</p>

<pre>
  <code class="language-Haskell">--ambos diccionarios son del mismo tipo (que es el tipo definido en la typeclass ;) )
dictInt = ...
dictFloat = ....

multi dict = dict !! 1 -- suponiendo que la función multiplicación esta en el diccionario en la posición 1
square dict x = multi dict x x
</code>
</pre>

<p>Y cuando ejecutamos</p>

<p>
  <code class="language-plaintext highlighter-rouge">square 3</code>
</p>

<p>se traduce, como 3 es un Int, en algo como</p>

<p>
  <code class="language-plaintext highlighter-rouge">square dictInt 3 </code>
</p>

<p>Alguien que ya tiene conocimientos sobre el <a href="paradigma-de-objetos.html">paradigma orientado a objetos</a> podría encontrar similitudes con el polimorfismo de ese paradigma desde el punto de vista del uso, pero la realidad es que hay magia en el medio a nivel compilador de modo que siempre se sabe qué definición de función se usará en tiempo de compilación (no se hace un dispatch dinámico).</p>

</div>





<div id="article_metadata">
    <!-- <p><i>Latest update on May 14, 2019 by
        GitHub</i></p>

    <ul class="accordion" data-accordion>
        <li class="accordion-navigation">
            <a href="#panel1a">Page History, Meta information</a>

            <div id="panel1a" class="content">

                <div class="rows">
                    <div class="column small-12 medium-6 large-6">
                        <table>
                            <thead>
                            <tr>
                                <th>Page Commits</th>
                                <th>Page Additions</th>
                                <th>Page Deletions</th>
                            </tr>
                            </thead>

                            <tbody>
                            <tr>
                                <td>6</td>
                                <td>140</td>
                                <td>22</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="column small-12 medium-6 large-6">
                        <table>
                            <thead>
                            <tr>
                                <th>Name</th>
                                <th>Email</th>
                                <th>Commits</th>
                            <tr>
                            </thead>

                            <tbody>
                            
                            <tr>
                                <td>Ernesto Bossi</td>
                                <td>bossi.e...</td>
                                <td>1</td>
                            </tr>
                            
                            <tr>
                                <td>Flbulgarelli</td>
                                <td>Flbulga...</td>
                                <td>2</td>
                            </tr>
                            
                            <tr>
                                <td>Mariana</td>
                                <td>mmatos8...</td>
                                <td>2</td>
                            </tr>
                            
                            <tr>
                                <td>Mmatos</td>
                                <td>Mmatos@...</td>
                                <td>1</td>
                            </tr>
                            
                            </tbody>
                        </table>
                    </div>
                </div>

                <table style="margin-left: 15px;">
                    <thead>
                    <tr>
                        <th>Hash</th>
                        <th>Time</th>
                        <th>Name</th>
                        <th>Mail</th>
                        <th>Subject</th>
                    <tr>
                    </thead>

                    <tbody>
                    
                    <tr>
                        <td>56eeb86d</td>
                        <td>Tue May 14 11:40:03 2019 -0300</td>
                        <td>GitHub</td>
                        <td>noreply...</td>
                        <td>Update typeclasses.md</td>
                    </tr>
                    
                    <tr>
                        <td>138cfe40</td>
                        <td>Tue Jul 31 14:29:21 2018 -0300</td>
                        <td>GitHub</td>
                        <td>noreply...</td>
                        <td>Refactor sobre typeclasses</td>
                    </tr>
                    
                    <tr>
                        <td>bef5abaa</td>
                        <td>Thu Feb 2 19:24:04 2017 -0300</td>
                        <td>Ernesto Bossi</td>
                        <td>bossi.e...</td>
                        <td>build up initial migration with old commits</td>
                    </tr>
                    
                    <tr>
                        <td>74597b44</td>
                        <td>Thu Feb 2 19:14:08 2017 -0300</td>
                        <td>Ernesto Bossi</td>
                        <td>bossi.e...</td>
                        <td>Revision without comments imported from MediaWiki</td>
                    </tr>
                    
                    <tr>
                        <td>1fcd447f</td>
                        <td>Thu Feb 2 19:14:08 2017 -0300</td>
                        <td>Ernesto Bossi</td>
                        <td>bossi.e...</td>
                        <td>Revision without comments imported from MediaWiki</td>
                    </tr>
                    
                    </tbody>
                </table>

            </div>
        </li>
    </ul> -->

</div>


</div>


<div id="footer">
    <div class="columns small-12 medium-12 large-12">
        © 2025 - Uqbar Foundation
    </div>
</div>

<script>
    'use strict';
</script>

<script src="/assets/jquery-aa71a7b50270602be524223735204e4e.js"></script>
<script src="/assets/jquery.min-92bca385e77eff06fdfc99d71ff5d9cb.js"></script>
<script src="https://code.jquery.com/ui/1.11.4/jquery-ui.min.js" type="text/javascript"></script>

<script src="/assets/foundation/foundation-9cdbe0bbce183118de08f9938e53d976.js"></script>
<script src="/assets/foundation/foundation.abide-89a2bdc8d7b0219f70b26edf2ae6887e.js"></script>
<script src="/assets/foundation/foundation.accordion-fb975cac4e1d51205357ccef64ad87f4.js"></script>
<script src="/assets/foundation/foundation.alert-09f0ede105a8181ae99c1e952f89ca3b.js"></script>
<script src="/assets/foundation/foundation.clearing-1720b58085d63e88f45a453bb9ad3e3b.js"></script>
<script src="/assets/foundation/foundation.dropdown-644acf98749f084fdf912c4b00957f31.js"></script>
<script src="/assets/foundation/foundation.equalizer-97288e933d9acc43fab592768c628ba6.js"></script>
<script src="/assets/foundation/foundation.interchange-083c4df6919a083e985b5e687d5c30b9.js"></script>
<script src="/assets/foundation/foundation.joyride-c8c49db46553294043e6ec5c19e1285b.js"></script>
<script src="/assets/foundation/foundation.magellan-2fb6e4d1e4284a920b3a7d892e2cb54c.js"></script>
<script src="/assets/foundation/foundation.offcanvas-63af9a0eca0822c6f6a77ba0eb3dd7ec.js"></script>
<script src="/assets/foundation/foundation.orbit-79b5540e0f58a265fd959aaf18fc2345.js"></script>
<script src="/assets/foundation/foundation.reveal-620cbbd491fb6eaf8dc057949a254e29.js"></script>
<script src="/assets/foundation/foundation.slider-e5da59a7bd13309d315a6a95e0654b35.js"></script>
<script src="/assets/foundation/foundation.tab-9ea3a242acf982f76f891ac5e32aa92a.js"></script>
<script src="/assets/foundation/foundation.tooltip-926551742e978e4456aa7ca8c6ffe334.js"></script>
<script src="/assets/foundation/foundation.topbar-fa936a3a88514cb2c51c4ccf3fefaeb0.js"></script>

<script src="/assets/jquery.cookie-600df63e64417ec0c172cd3580ffe4f3.js"></script>
<!-- Script pointing to jekyll-search.js -->
<script src="/assets/jekyll-search-db248d3bf113e122870c09fd6d9b0592.js"></script>

<script>
    SimpleJekyllSearch({
        searchInput: document.getElementById('search-input'),
        resultsContainer: document.getElementById('results-container'),
        json: "/search.json"
    });

    $(document).foundation();

</script>

<!-- prism.js -->
<script src="/assets/prism-193ebecb65a347c425ecdb3c4592fd0e.js"></script>
</body>
</html>

!function(d,n){"use strict";Foundation.libs.slider={name:"slider",version:"5.5.2",settings:{start:0,end:100,step:1,precision:null,initial:null,display_selector:"",vertical:!1,trigger_input_change:!1,on_change:function(){}},cache:{},init:function(t,e,n){Foundation.inherit(this,"throttle"),this.bindings(e,n),this.reflow()},events:function(){var a=this;d(this.scope).off(".slider").on("mousedown.fndtn.slider touchstart.fndtn.slider pointerdown.fndtn.slider","["+a.attr_name()+"]:not(.disabled, [disabled]) .range-slider-handle",function(t){a.cache.active||(t.preventDefault(),a.set_active_slider(d(t.target)))}).on("mousemove.fndtn.slider touchmove.fndtn.slider pointermove.fndtn.slider",function(t){if(a.cache.active)if(t.preventDefault(),d.data(a.cache.active[0],"settings").vertical){var e=0;t.pageY||(e=n.scrollY),a.calculate_position(a.cache.active,a.get_cursor_position(t,"y")+e)}else a.calculate_position(a.cache.active,a.get_cursor_position(t,"x"))}).on("mouseup.fndtn.slider touchend.fndtn.slider pointerup.fndtn.slider",function(){a.remove_active_slider()}).on("change.fndtn.slider",function(){a.settings.on_change()}),a.S(n).on("resize.fndtn.slider",a.throttle(function(){a.reflow()},300)),this.S("["+this.attr_name()+"]").each(function(){var t=d(this),e=t.children(".range-slider-handle")[0],n=a.initialize_settings(e);""!=n.display_selector&&d(n.display_selector).each(function(){this.hasOwnProperty("value")&&d(this).change(function(){t.foundation("slider","set_value",d(this).val())})})})},get_cursor_position:function(t,e){var n,a="page"+e.toUpperCase(),i="client"+e.toUpperCase();return"undefined"!=typeof t[a]?n=t[a]:"undefined"!=typeof t.originalEvent[i]?n=t.originalEvent[i]:t.originalEvent.touches&&t.originalEvent.touches[0]&&"undefined"!=typeof t.originalEvent.touches[0][i]?n=t.originalEvent.touches[0][i]:t.currentPoint&&"undefined"!=typeof t.currentPoint[e]&&(n=t.currentPoint[e]),n},set_active_slider:function(t){this.cache.active=t},remove_active_slider:function(){this.cache.active=null},calculate_position:function(n,a){var i=this,r=d.data(n[0],"settings"),s=(d.data(n[0],"handle_l"),d.data(n[0],"handle_o"),d.data(n[0],"bar_l")),o=d.data(n[0],"bar_o");requestAnimationFrame(function(){var t;t=Foundation.rtl&&!r.vertical?i.limit_to((o+s-a)/s,0,1):i.limit_to((a-o)/s,0,1),t=r.vertical?1-t:t;var e=i.normalized_value(t,r.start,r.end,r.step,r.precision);i.set_ui(n,e)})},set_ui:function(t,e){var n=d.data(t[0],"settings"),a=d.data(t[0],"handle_l"),i=d.data(t[0],"bar_l"),r=this.normalized_percentage(e,n.start,n.end),s=r*(i-a)-1,o=100*r,l=t.parent(),c=t.parent().children("input[type=hidden]");Foundation.rtl&&!n.vertical&&(s=-s),s=n.vertical?-s+i-a+1:s,this.set_translate(t,s,n.vertical),n.vertical?t.siblings(".range-slider-active-segment").css("height",o+"%"):t.siblings(".range-slider-active-segment").css("width",o+"%"),l.attr(this.attr_name(),e).trigger("change.fndtn.slider"),c.val(e),n.trigger_input_change&&c.trigger("change.fndtn.slider"),t[0].hasAttribute("aria-valuemin")||t.attr({"aria-valuemin":n.start,"aria-valuemax":n.end}),t.attr("aria-valuenow",e),""!=n.display_selector&&d(n.display_selector).each(function(){this.hasAttribute("value")?d(this).val(e):d(this).text(e)})},normalized_percentage:function(t,e,n){return Math.min(1,(t-e)/(n-e))},normalized_value:function(t,e,n,a,i){var r=t*(n-e);return((r-r%a)/a*a+(.5*a<=r%a?a:0)+e).toFixed(i)},set_translate:function(t,e,n){n?d(t).css("-webkit-transform","translateY("+e+"px)").css("-moz-transform","translateY("+e+"px)").css("-ms-transform","translateY("+e+"px)").css("-o-transform","translateY("+e+"px)").css("transform","translateY("+e+"px)"):d(t).css("-webkit-transform","translateX("+e+"px)").css("-moz-transform","translateX("+e+"px)").css("-ms-transform","translateX("+e+"px)").css("-o-transform","translateX("+e+"px)").css("transform","translateX("+e+"px)")},limit_to:function(t,e,n){return Math.min(Math.max(t,e),n)},initialize_settings:function(t){var e,n=d.extend({},this.settings,this.data_options(d(t).parent()));return null===n.precision&&(e=(""+n.step).match(/\.([\d]*)/),n.precision=e&&e[1]?e[1].length:0),n.vertical?(d.data(t,"bar_o",d(t).parent().offset().top),d.data(t,"bar_l",d(t).parent().outerHeight()),d.data(t,"handle_o",d(t).offset().top),d.data(t,"handle_l",d(t).outerHeight())):(d.data(t,"bar_o",d(t).parent().offset().left),d.data(t,"bar_l",d(t).parent().outerWidth()),d.data(t,"handle_o",d(t).offset().left),d.data(t,"handle_l",d(t).outerWidth())),d.data(t,"bar",d(t).parent()),d.data(t,"settings",n)},set_initial_position:function(t){var e=d.data(t.children(".range-slider-handle")[0],"settings"),n="number"!=typeof e.initial||isNaN(e.initial)?Math.floor(.5*(e.end-e.start)/e.step)*e.step+e.start:e.initial,a=t.children(".range-slider-handle");this.set_ui(a,n)},set_value:function(t){var e=this;d("["+e.attr_name()+"]",this.scope).each(function(){d(this).attr(e.attr_name(),t)}),d(this.scope).attr(e.attr_name())&&d(this.scope).attr(e.attr_name(),t),e.reflow()},reflow:function(){var n=this;n.S("["+this.attr_name()+"]").each(function(){var t=d(this).children(".range-slider-handle")[0],e=d(this).attr(n.attr_name());n.initialize_settings(t),e?n.set_ui(d(t),parseFloat(e)):n.set_initial_position(d(this))})}}}(jQuery,window,window.document);
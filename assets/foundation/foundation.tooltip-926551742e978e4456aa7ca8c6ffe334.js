!function(l,a){"use strict";Foundation.libs.tooltip={name:"tooltip",version:"5.5.2",settings:{additional_inheritable_classes:[],tooltip_class:".tooltip",append_to:"body",touch_close_text:"Tap To Close",disable_for_touch:!1,hover_delay:200,show_on:"all",tip_template:function(t,e){return'<span data-selector="'+t+'" id="'+t+'" class="'+Foundation.libs.tooltip.settings.tooltip_class.substring(1)+'" role="tooltip">'+e+'<span class="nub"></span></span>'}},cache:{},init:function(t,e,o){Foundation.inherit(this,"random_str"),this.bindings(e,o)},should_show:function(t){var e=l.extend({},this.settings,this.data_options(t));return"all"===e.show_on||(!(!this.small()||"small"!==e.show_on)||(!(!this.medium()||"medium"!==e.show_on)||!(!this.large()||"large"!==e.show_on)))},medium:function(){return matchMedia(Foundation.media_queries.medium).matches},large:function(){return matchMedia(Foundation.media_queries.large).matches},events:function(t){function s(t,e,o){t.timer||(o?(t.timer=null,a.showTip(e)):t.timer=setTimeout(function(){t.timer=null,a.showTip(e)}.bind(t),a.settings.hover_delay))}function n(t,e){t.timer&&(clearTimeout(t.timer),t.timer=null),a.hide(e)}var a=this,r=a.S;a.create(this.S(t)),l(this.scope).off(".tooltip").on("mouseenter.fndtn.tooltip mouseleave.fndtn.tooltip touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip","["+this.attr_name()+"]",function(t){var e=r(this),o=l.extend({},a.settings,a.data_options(e));if(Modernizr.touch&&/touchstart|MSPointerDown/i.test(t.type)&&r(t.target).is("a"))return!1;if(/mouse/i.test(t.type)&&a.ie_touch(t))return!1;if(e.hasClass("open"))Modernizr.touch&&/touchstart|MSPointerDown/i.test(t.type)&&t.preventDefault(),a.hide(e);else{if(o.disable_for_touch&&Modernizr.touch&&/touchstart|MSPointerDown/i.test(t.type))return;if(!o.disable_for_touch&&Modernizr.touch&&/touchstart|MSPointerDown/i.test(t.type)&&(t.preventDefault(),r(o.tooltip_class+".open").hide(),!0,0<l(".open["+a.attr_name()+"]").length)){var i=r(l(".open["+a.attr_name()+"]")[0]);a.hide(i)}/enter|over/i.test(t.type)?s(this,e):"mouseout"===t.type||"mouseleave"===t.type?n(this,e):s(this,e,!0)}}).on("mouseleave.fndtn.tooltip touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip","["+this.attr_name()+"].open",function(t){if(/mouse/i.test(t.type)&&a.ie_touch(t))return!1;"touch"==l(this).data("tooltip-open-event-type")&&"mouseleave"==t.type||("mouse"==l(this).data("tooltip-open-event-type")&&/MSPointerDown|touchstart/i.test(t.type)?a.convert_to_touch(l(this)):n(this,l(this)))}).on("DOMNodeRemoved DOMAttrModified","["+this.attr_name()+"]:not(a)",function(){n(this,r(this))})},ie_touch:function(){return!1},showTip:function(t){var e=this.getTip(t);if(this.should_show(t,e))return this.show(t)},getTip:function(t){var e=this.selector(t),o=l.extend({},this.settings,this.data_options(t)),i=null;return e&&(i=this.S('span[data-selector="'+e+'"]'+o.tooltip_class)),"object"==typeof i&&i},selector:function(t){var e=t.attr(this.attr_name())||t.attr("data-selector");return"string"!=typeof e&&(e=this.random_str(6),t.attr("data-selector",e).attr("aria-describedby",e)),e},create:function(t){var e=this,o=l.extend({},this.settings,this.data_options(t)),i=this.settings.tip_template;"string"==typeof o.tip_template&&a.hasOwnProperty(o.tip_template)&&(i=a[o.tip_template]);var s=l(i(this.selector(t),l("<div></div>").html(t.attr("title")).html())),n=this.inheritable_classes(t);s.addClass(n).appendTo(o.append_to),Modernizr.touch&&(s.append('<span class="tap-to-close">'+o.touch_close_text+"</span>"),s.on("touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip",function(){e.hide(t)})),t.removeAttr("title").attr("title","")},reposition:function(t,e,o){var i,s,n,a;if(e.css("visibility","hidden").show(),i=t.data("width"),n=(s=e.children(".nub")).outerHeight(),s.outerHeight(),this.small()?e.css({width:"100%"}):e.css({width:i||"auto"}),(a=function(t,e,o,i,s){return t.css({top:e||"auto",bottom:i||"auto",left:s||"auto",right:o||"auto"}).end()})(e,t.offset().top+t.outerHeight()+10,"auto","auto",t.offset().left),this.small())a(e,t.offset().top+t.outerHeight()+10,"auto","auto",12.5,l(this.scope).width()),e.addClass("tip-override"),a(s,-n,"auto","auto",t.offset().left);else{var r=t.offset().left;Foundation.rtl&&(s.addClass("rtl"),r=t.offset().left+t.outerWidth()-e.outerWidth()),a(e,t.offset().top+t.outerHeight()+10,"auto","auto",r),s.attr("style")&&s.removeAttr("style"),e.removeClass("tip-override"),o&&-1<o.indexOf("tip-top")?(Foundation.rtl&&s.addClass("rtl"),a(e,t.offset().top-e.outerHeight(),"auto","auto",r).removeClass("tip-override")):o&&-1<o.indexOf("tip-left")?(a(e,t.offset().top+t.outerHeight()/2-e.outerHeight()/2,"auto","auto",t.offset().left-e.outerWidth()-n).removeClass("tip-override"),s.removeClass("rtl")):o&&-1<o.indexOf("tip-right")&&(a(e,t.offset().top+t.outerHeight()/2-e.outerHeight()/2,"auto","auto",t.offset().left+t.outerWidth()+n).removeClass("tip-override"),s.removeClass("rtl"))}e.css("visibility","visible").hide()},small:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches},inheritable_classes:function(t){var e=l.extend({},this.settings,this.data_options(t)),o=["tip-top","tip-left","tip-bottom","tip-right","radius","round"].concat(e.additional_inheritable_classes),i=t.attr("class"),s=i?l.map(i.split(" "),function(t){if(-1!==l.inArray(t,o))return t}).join(" "):"";return l.trim(s)},convert_to_touch:function(t){var e=this,o=e.getTip(t),i=l.extend({},e.settings,e.data_options(t));0===o.find(".tap-to-close").length&&(o.append('<span class="tap-to-close">'+i.touch_close_text+"</span>"),o.on("click.fndtn.tooltip.tapclose touchstart.fndtn.tooltip.tapclose MSPointerDown.fndtn.tooltip.tapclose",function(){e.hide(t)})),t.data("tooltip-open-event-type","touch")},show:function(t){var e=this.getTip(t);"touch"==t.data("tooltip-open-event-type")&&this.convert_to_touch(t),this.reposition(t,e,t.attr("class")),t.addClass("open"),e.fadeIn(150)},hide:function(t){var e=this.getTip(t);e.fadeOut(150,function(){e.find(".tap-to-close").remove(),e.off("click.fndtn.tooltip.tapclose MSPointerDown.fndtn.tapclose"),t.removeClass("open")})},off:function(){var e=this;this.S(this.scope).off(".fndtn.tooltip"),this.S(this.settings.tooltip_class).each(function(t){l("["+e.attr_name()+"]").eq(t).attr("title",l(this).text())}).remove()},reflow:function(){}}}(jQuery,window,window.document);